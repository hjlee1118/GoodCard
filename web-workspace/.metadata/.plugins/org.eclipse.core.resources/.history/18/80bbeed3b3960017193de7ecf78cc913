-- 테이블 순서는 관계를 고려하여 한 번에 실행해도 에러가 발생하지 않게 정렬되었습니다.

-- POLL Table Create SQL
CREATE TABLE POLL
(
    NO           NUMBER    NOT NULL, 
    MEMBER_NO    NUMBER    NULL, 
    AMOUNT       NUMBER    NULL, 
    CONSTRAINT POLL_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE POLL_SEQ
START WITH 1
INCREMENT BY 1;


-- MEMBER Table Create SQL
CREATE TABLE MEMBER
(
    NO          NUMBER           NOT NULL, 
    ID          VARCHAR2(100)    NULL, 
    PASSWORD    VARCHAR2(100)    NULL, 
    NAME        VARCHAR2(200)    NULL, 
    SEX         VARCHAR2(20)     NULL, 
    EMAIL       VARCHAR2(200)    NULL, 
    PHONE       VARCHAR2(200)    NULL, 
    TENDENCY    NUMBER           NULL, 
    POLL_NO     NUMBER           NULL, 
    TYPE        VARCHAR(20)      NULL, 
    BIRTHDATE	DATE			 NULL,
    CONSTRAINT MEMBER_PK PRIMARY KEY (NO)
);


CREATE SEQUENCE MEMBER_SEQ
START WITH 1
INCREMENT BY 1;


ALTER TABLE MEMBER
    ADD CONSTRAINT FK_MEMBER_POLL_NO_POLL_NO FOREIGN KEY (POLL_NO)
        REFERENCES POLL (NO);



-- RECORD_LIST Table Create SQL
CREATE TABLE RECORD_LIST
(
    NO           NUMBER    NOT NULL, 
    MEMBER_NO    NUMBER    NULL, 
    CONSTRAINT RECORD_LIST_PK PRIMARY KEY (NO)
);


CREATE SEQUENCE RECORD_LIST_SEQ
START WITH 1
INCREMENT BY 1;




ALTER TABLE RECORD_LIST
    ADD CONSTRAINT FK_RECORD_LIST_MEMBER_NO_MEMBE FOREIGN KEY (MEMBER_NO)
        REFERENCES MEMBER (NO);



-- EXPENSE_CATEGORY_LIST Table Create SQL
CREATE TABLE EXPENSE_CATEGORY_LIST
(
    NO      NUMBER          NOT NULL, 
    NAME    VARCHAR2(20)    NULL, 
    CONSTRAINT EXPENSE_CATEGORY_LIST_PK PRIMARY KEY (NO)
);


CREATE SEQUENCE EXPENSE_CATEGORY_LIST_SEQ
START WITH 1
INCREMENT BY 1;



-- ASSET_CATEGORY Table Create SQL
CREATE TABLE ASSET_CATEGORY
(
    NO      NUMBER          NOT NULL, 
    NAME    VARCHAR2(20)    NULL, 
    CONSTRAINT ASSET_CATEGORY_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE ASSET_CATEGORY_SEQ
START WITH 1
INCREMENT BY 1;


-- INCOME_CATEGORY Table Create SQL
CREATE TABLE INCOME_CATEGORY
(
    NO      NUMBER          NOT NULL, 
    NAME    VARCHAR2(20)    NULL, 
    CONSTRAINT INCOME_CATEGORY_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE INCOME_CATEGORY_SEQ
START WITH 1
INCREMENT BY 1;

-- EXPENSE Table Create SQL
CREATE TABLE EXPENSE
(
    NO                            NUMBER            NOT NULL, 
    EXPENSE_CATEGORY_LIST_NO      NUMBER            NULL, 
    EXPENSE_CATEGORY_LIST_NAME    VARCHAR2(20)      NULL, 
    EXPENSE_CATEGORY_NO           NUMBER            NULL, 
    EXPENSE_CATEGORY_NAME         VARCHAR2(20)      NULL, 
    DETAIL                        VARCHAR2(2000)    NULL, 
    AMOUNT                        NUMBER            NULL, 
    ASSET_NO                      NUMBER            NULL, 
    ASSET_CATEGORY                VARCHAR2(20)      NULL, 
    ASSET_DETAIL                  VARCHAR2(20)      NULL, 
    TERM                          NUMBER            NULL, 
    DATE                          DATE              NULL, 
    MEMO                          VARCHAR2(2000)    NULL, 
    RECORD_LIST_NO                NUMBER            NULL, 
    CONSTRAINT EXPENSE_PK PRIMARY KEY (NO, TERM)
);

CREATE SEQUENCE EXPENSE_SEQ
START WITH 1
INCREMENT BY 1;


ALTER TABLE EXPENSE
    ADD CONSTRAINT FK_EXPENSE_RECORD_LIST_NO_RECO FOREIGN KEY (RECORD_LIST_NO)
        REFERENCES RECORD_LIST (NO);


ALTER TABLE EXPENSE
    ADD CONSTRAINT FK_EXPENSE_EXPENSE_CATEGORY_LI FOREIGN KEY (EXPENSE_CATEGORY_LIST_NO)
        REFERENCES EXPENSE_CATEGORY_LIST (NO);



-- INCOME Table Create SQL
CREATE TABLE INCOME
(
    NO                      NUMBER            NOT NULL, 
    INCOME_CATEGORY_NO      NUMBER            NULL, 
    INCOME_CATEGORY_NAME    VARCHAR2(2000)    NULL, 
    DETAIL                  VARCHAR2(2000)    NULL, 
    AMOUNT                  NUMBER            NULL, 
    ASSET_NO                NUMBER            NULL, 
    ASSET_CATEGORY_NAME     VARCHAR2(2000)    NULL, 
    ASSET_DETAIL            VARCHAR2(2000)    NULL, 
    DATE                    DATE              NULL, 
    MEMO                    MEMO              NULL, 
    RECORD_LIST_NO          NUMBER            NULL, 
    CONSTRAINT INCOME_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE INCOME_SEQ
START WITH 1
INCREMENT BY 1;






ALTER TABLE INCOME
    ADD CONSTRAINT FK_INCOME_RECORD_LIST_NO_RECOR FOREIGN KEY (RECORD_LIST_NO)
        REFERENCES RECORD_LIST (NO);


ALTER TABLE INCOME
    ADD CONSTRAINT FK_INCOME_INCOME_CATEGORY_NO_I FOREIGN KEY (INCOME_CATEGORY_NO)
        REFERENCES INCOME_CATEGORY (NO);



-- ASSET Table Create SQL
CREATE TABLE ASSET
(
    NO                     NUMBER            NOT NULL, 
    ASSET_CATEGORY_NO      NUMBER            NULL, 
    ASSET_CATEGORY_NAME    VARCHAR2(2000)    NULL, 
    DETAIL                 VARCHAR2(2000)    NULL, 
    AMOUNT                 NUMBER            NULL, 
    MEMO                   VARCHAR2(2000)    NULL, 
    RECORD_LIST_NO         NUMBER            NULL, 
    CONSTRAINT ASSET_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE ASSET_SEQ
START WITH 1
INCREMENT BY 1;

ALTER TABLE ASSET
    ADD CONSTRAINT FK_ASSET_ASSET_CATEGORY_NO_ASS FOREIGN KEY (ASSET_CATEGORY_NO)
        REFERENCES ASSET_CATEGORY (NO);


ALTER TABLE ASSET
    ADD CONSTRAINT FK_ASSET_RECORD_LIST_NO_RECORD FOREIGN KEY (RECORD_LIST_NO)
        REFERENCES RECORD_LIST (NO);



-- EXPENSE_CATEGORY Table Create SQL
CREATE TABLE EXPENSE_CATEGORY
(
    NO                  NUMBER          NOT NULL, 
    NAME                VARCHAR2(20)    NULL, 
    CATEGORY_LIST_NO    VARCHAR2(20)    NULL, 
    CONSTRAINT EXPENSE_CATEGORY_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE EXPENSE_CATEGORY_SEQ
START WITH 1
INCREMENT BY 1;


ALTER TABLE EXPENSE_CATEGORY
    ADD CONSTRAINT FK_EXPENSE_CATEGORY_CATEGORY_L FOREIGN KEY (CATEGORY_LIST_NO)
        REFERENCES EXPENSE_CATEGORY_LIST (NO);


-- TENDENCY Table Create SQL
CREATE TABLE TENDENCY
(
    NO           NUMBER    NOT NULL, 
    MEMBER_NO    NUMBER    NULL, 
    POLL_NO      NUMBER    NULL, 
    CONSTRAINT TENDENCY_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE TENDENCY_SEQ
START WITH 1
INCREMENT BY 1;




ALTER TABLE TENDENCY
    ADD CONSTRAINT FK_TENDENCY_MEMBER_NO_MEMBER_N FOREIGN KEY (MEMBER_NO)
        REFERENCES MEMBER (NO);


ALTER TABLE TENDENCY
    ADD CONSTRAINT FK_TENDENCY_POLL_NO_POLL_NO FOREIGN KEY (POLL_NO)
        REFERENCES POLL (NO);



-- TRANSPORTATION Table Create SQL
CREATE TABLE TRANSPORTATION
(
    NO        NUMBER    NOT NULL, 
    AMOUNT    NUMBER    NULL, 
    CONSTRAINT TRANSPORTATION_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE TRANSPORTATION_SEQ
START WITH 1
INCREMENT BY 1;


-- COMMUNICATION Table Create SQL
CREATE TABLE COMMUNICATION
(
    NO        NUMBER    NOT NULL, 
    AMOUNT    NUMBER    NULL, 
    SKT       NUMBER    NULL, 
    KT        NUMBER    NULL, 
    UPLUS     NUMBER    NULL, 
    ETC       NUMBER    NULL, 
    CONSTRAINT COMMUNICATION_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE COMMUNICATION_SEQ
START WITH 1
INCREMENT BY 1;




-- GASSTATION Table Create SQL
CREATE TABLE GASSTATION
(
    NO        NUMBER    NOT NULL, 
    AMOUNT    NUMBER    NULL, 
    CONSTRAINT GASSTATION_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE GASSTATION_SEQ
START WITH 1
INCREMENT BY 1;



-- MOVIE Table Create SQL
CREATE TABLE MOVIE
(
    NO        NUMBER    NOT NULL, 
    AMOUNT    NUMBER    NULL, 
    CONSTRAINT MOVIE_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE MOVIE_SEQ
START WITH 1
INCREMENT BY 1;


-- CAFEBAKERY Table Create SQL
CREATE TABLE CAFEBAKERY
(
    NO               NUMBER    NOT NULL, 
    AMOUNT           NUMBER    NULL, 
    STARBUCKS        NUMBER    NULL, 
    TWOSOMEPLACE     NUMBER    NULL, 
    CAFEBENE         NUMBER    NULL, 
    ANGELINUS        NUMBER    NULL, 
    COFFEBEAN        NUMBER    NULL, 
    EDIYA            NUMBER    NULL, 
    HOLLYS           NUMBER    NULL, 
    BASKINROBBINS    NUMBER    NULL, 
    DUNKINDONUTS     NUMBER    NULL, 
    PASCUCCI         NUMBER    NULL, 
    TOMNTOMS         NUMBER    NULL, 
    SMOOTHIEKING     NUMBER    NULL, 
    PARISBAGUETTE    NUMBER    NULL, 
    TOUSLESJOURS     NUMBER    NULL, 
    ETC              NUMBER    NULL, 
    CONSTRAINT CAFEBAKERY_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE CAFEBAKERY_SEQ
START WITH 1
INCREMENT BY 1;



-- RESTAURANT Table Create SQL
CREATE TABLE RESTAURANT
(
    NO              NUMBER    NOT NULL, 
    AMOUNT          NUMBER    NULL, 
    OUTBACK         NUMBER    NULL, 
    VIPS            NUMBER    NULL, 
    ASHLEY          NUMBER    NULL, 
    TGIF            NUMBER    NULL, 
    MADFORGARLIC    NUMBER    NULL, 
    ETC             NUMBER    NULL, 
    CONSTRAINT RESTAURANT_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE RESTAURANT_SEQ
START WITH 1
INCREMENT BY 1;




-- FASTFOOD Table Create SQL
CREATE TABLE FASTFOOD
(
    NO             NUMBER    NOT NULL, 
    AMOUNT         NUMBER    NULL, 
    MCDONALDS      NUMBER    NULL, 
    LOTTERIA       NUMBER    NULL, 
    BURGURKING     NUMBER    NULL, 
    KFC            NUMBER    NULL, 
    MRPIZZA        NUMBER    NULL, 
    DOMINOPIZZA    NUMBER    NULL, 
    PIZZAHUT       NUMBER    NULL, 
    PAPAJOHNS      NUMBER    NULL, 
    ETC            NUMBER    NULL, 
    CONSTRAINT FASTFOOD_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE FASTFOOD_SEQ
START WITH 1
INCREMENT BY 1;


-- CAFETERIA Table Create SQL
CREATE TABLE CAFETERIA
(
    NO        NUMBER    NOT NULL, 
    AMOUNT    NUMBER    NULL, 
    CONSTRAINT CAFETERIA_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE CAFETERIA_SEQ
START WITH 1
INCREMENT BY 1;






-- CONVENIENCE Table Create SQL
CREATE TABLE CONVENIENCE
(
    NO        NUMBER    NULL, 
    AMOUNT    NUMBER    NULL, 
    CONSTRAINT CONVENIENCE_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE CONVENIENCE_SEQ
START WITH 1
INCREMENT BY 1;






-- MART Table Create SQL
CREATE TABLE MART
(
    NO        NUMBER    NOT NULL, 
    AMOUNT    NUMBER    NULL, 
    CONSTRAINT MART_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE MART_SEQ
START WITH 1
INCREMENT BY 1;



-- SUPERMARKET Table Create SQL
CREATE TABLE SUPERMARKET
(
    NO        NUMBER    NOT NULL, 
    AMOUNT    NUMBER    NULL, 
    CONSTRAINT SUPERMARKET_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE SUPERMARKET_SEQ
START WITH 1
INCREMENT BY 1;

-- ONLINESHOPPING Table Create SQL
CREATE TABLE ONLINESHOPPING
(
    NO        NUMBER    NOT NULL, 
    AMOUNT    NUMBER    NULL, 
    CONSTRAINT ONLINESHOPPING_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE ONLINESHOPPING_SEQ
START WITH 1
INCREMENT BY 1;


-- AMUSEMENTPARK Table Create SQL
CREATE TABLE AMUSEMENTPARK
(
    NO        NUMBER    NOT NULL, 
    AMOUNT    NUMBER    NULL, 
    CONSTRAINT AMUSEMENTPARK_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE AMUSEMENTPARK_SEQ
START WITH 1
INCREMENT BY 1;


-- BEAUTY Table Create SQL
CREATE TABLE BEAUTY
(
    NO        NUMBER    NOT NULL, 
    AMOUNT    NUMBER    NULL, 
    CONSTRAINT BEAUTY_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE BEAUTY_SEQ
START WITH 1
INCREMENT BY 1;


-- BOOKSTORE Table Create SQL
CREATE TABLE BOOKSTORE
(
    NO        NUMBER    NOT NULL, 
    AMOUNT    NUMBER    NULL, 
    CONSTRAINT BOOKSTORE_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE BOOKSTORE_SEQ
START WITH 1
INCREMENT BY 1;




-- ACADEMY Table Create SQL
CREATE TABLE ACADEMY
(
    NO        NUMBER    NOT NULL, 
    AMOUNT    NUMBER    NULL, 
    CONSTRAINT ACADEMY_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE ACADEMY_SEQ
START WITH 1
INCREMENT BY 1;

-- MEDICAL Table Create SQL
CREATE TABLE MEDICAL
(
    NO        NUMBER    NOT NULL, 
    AMOUNT    NUMBER    NULL, 
    CONSTRAINT MEDICAL_PK PRIMARY KEY (NO)
);

CREATE SEQUENCE MEDICAL_SEQ
START WITH 1
INCREMENT BY 1;


alter sequence poll_seq nocache;
alter sequence member_seq nocache;
alter sequence RECORD_LIST_SEQ nocache;
alter sequence EXPENSE_CATEGORY_LIST_SEQ nocache;
alter sequence ASSET_CATEGORY_SEQ nocache;
alter sequence INCOME_CATEGORY_SEQ nocache;
alter sequence EXPENSE_SEQ nocache;
alter sequence INCOME_SEQ nocache;
alter sequence ASSET_SEQ nocache;
alter sequence EXPENSE_CATEGORY_SEQ nocache;
alter sequence TENDENCY_SEQ nocache;
alter sequence COMMUNICATION_SEQ nocache;
alter sequence GASSTATION_SEQ nocache;
alter sequence MOVIE_SEQ nocache;
alter sequence CAFEBAKERY_SEQ nocache;
alter sequence RESTAURANT_SEQ nocache;
alter sequence FASTFOOD_SEQ nocache;
alter sequence CAFETERIA_SEQ nocache;
alter sequence CONVENIENCE_SEQ nocache;
alter sequence MART_SEQ nocache;
alter sequence SUPERMARKET_SEQ nocache;
alter sequence ONLINESHOPPING_SEQ nocache;
alter sequence AMUSEMENTPARK_SEQ nocache;
alter sequence BEAUTY_SEQ nocache;
alter sequence BOOKSTORE_SEQ nocache;
alter sequence ACADEMY_SEQ nocache;
alter sequence MEDICAL_SEQ nocache;

